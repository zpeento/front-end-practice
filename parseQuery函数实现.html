<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>parseQuery函数实现</title>
</head>
<body>
	实现一个parseQuery函数，能够解析location的search字符串(不包括’?’)。

	输入一个search，输出一个object，同名参数则是会成为数组。
	<script>
		var search = "name=sa&age=12&address=qwe&address=poi&address=poi&kaka";

		function parseQuery(search) {
			var res = {};
			var inputArr = search.split('&');
			inputArr.map(function(value) {
				var subArr = value.split('=')
				if(!(subArr[0] in res)) {
					res[subArr[0]] = subArr[1] || ''
				}else{
					if(res[subArr[0]] instanceof Array) {
						res[subArr[0]].push(subArr[1])
					}else{
						var oldValue = res[subArr[0]];
						res[subArr[0]] = [oldValue];
						res[subArr[0]].push(subArr[1])
					}
				}
			})
			return res
		}

		var result = parseQuery(search);
		console.log(result)
	</script>
</body>
</html>